#include <windows.h>
#include <stdio.h>

int wmain(int argc, wchar_t *argv[])
{
    /*
		É¾ï¿½ï¿½ï¿½Ä¼ï¿½ api.exe -d ï¿½Ä¼ï¿½Â·ï¿½ï¿½
		ï¿½ï¿½ï¿½ï¿½ï¿½Ä¼ï¿½ api.exe -c Â·ï¿½ï¿½1 Â·ï¿½ï¿½2
		ï¿½Æ¶ï¿½/ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä¼ï¿½ api.exe -m Â·ï¿½ï¿½1 Â·ï¿½ï¿½2
	*/

    if (argc == 3 && 0 == lstrcmp(L"-d", argv[1]))
    { // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç·ï¿½ï¿½ï¿½ ï¿½Ú¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Îª-d ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ð²ï¿½ï¿½ï¿½ï¿½Ä¸ï¿½ï¿½ï¿½Îª3  ï¿½Ãºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Öµï¿½ï¿½ï¿½ï¿½ÎªLPCWSTR

        if (!DeleteFile(argv[2]))
        { //unicodeï¿½ï¿½Ê±ï¿½ï¿½ ï¿½ï¿½ï¿½Õµï¿½ÖµÎª LPCWSTR
            printf("É¾ï¿½ï¿½Ê§ï¿½ï¿½ \n");
        }
        else
        {
            printf("É¾ï¿½ï¿½ï¿½É¹ï¿½ \n");
        }
    }
    else if (argc == 4 && 0 == lstrcmp(L"-c", argv[1]))
    {
        if (!CopyFile(argv[2], argv[3], true))
        { //ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Îªtrueï¿½ï¿½Ã´ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ò²»½ï¿½ï¿½Ð¸ï¿½ï¿½ï¿?
            //ï¿½ï¿½ï¿½ï¿½Ê§ï¿½Ü£ï¿½ï¿½ï¿½ï¿½ï¿½Ò»ï¿½Ö¿ï¿½ï¿½ï¿½ï¿½Ç´ï¿½ï¿½ï¿½ï¿½Ä¼ï¿½Í¬ï¿½ï¿½,copyfile ï¿½ï¿½ï¿½ï¿½ÖµÎª0x50
            if (getchar() == 'y')
            {
                if (!CopyFile(argv[2], argv[3], false))
                { //ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Îªfalseï¿½ï¿½Ã´ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ö±ï¿½Ó¸ï¿½ï¿½ï¿?
                    printf("ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½ï¿½Ê§ï¿½ï¿½");
                }
                else
                {
                    printf("ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½Æ³É¹ï¿½");
                }
            }
        }
        else
            printf("ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½Æ³É¹ï¿½! \n");
    }
    else if (argc == 4 && 0 == lstrcmp(L"-m", argv[1]))
    {
        //ï¿½ï¿½ï¿½ï¿½ï¿½Æ¶ï¿½/ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä¼ï¿½ï¿½Ä²ï¿½ï¿½ï¿½
        if (!MoveFile(argv[2], argv[3]))
        { //movefile ï¿½ï¿½ copyfile api ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ò»ï¿½ï¿½ï¿½ï¿½ï¿½Ã·ï¿½Ò²ï¿½ï¿½ï¿½ï¿½
            printf("ï¿½Ä¼ï¿½ï¿½Æ¶ï¿½Ê§ï¿½ï¿½! \n");
        }
        else
        {
            printf("ï¿½Ä¼ï¿½ï¿½Æ¶ï¿½ï¿½É¹ï¿½! \n");
        }
    }
    else
    {
        printf("ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½! ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½");
    }

    system("pause");
    return 0;
}